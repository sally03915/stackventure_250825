<!DOCTYPE html><html><head>
      <title>part004_2_sql_using_계층형질의</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\sally03915\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.19\crossnote\dependencies\katex\katex.min.css">
      
      
      <script type="text/javascript" src="file:///c:\Users\sally03915\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.19\crossnote\dependencies\mermaid\mermaid.min.js" charset="UTF-8"></script>
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<style>
pre, code {
  white-space: pre-wrap !important;
  word-break: break-word !important;
  overflow-x: hidden !important;
  display: block !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}
</style> 
<hr>
<h3 id="-sql-using">📁 SQL USING </h3>
<table>
<thead>
<tr>
<th>구간</th>
<th>문제 번호</th>
<th>주제</th>
<th>난이도</th>
</tr>
</thead>
<tbody>
<tr>
<td>1~15</td>
<td>065~079</td>
<td>관계 연산자, JOIN 실무, 집합 연산자</td>
<td>⭐⭐ 초~중급</td>
</tr>
<tr>
<td>16~30</td>
<td>080~094</td>
<td>INTERSECT, EXCEPT, 계층형 질의</td>
<td>⭐⭐⭐ 중~고급</td>
</tr>
<tr>
<td>31~45</td>
<td>095~109</td>
<td>집합 연산자, JOIN 조건, 서브쿼리 활용</td>
<td>⭐⭐⭐ 고급</td>
</tr>
<tr>
<td>46~63</td>
<td>110~127</td>
<td>실무형 SQL 로직, 집계, 조건부 연산</td>
<td>⭐⭐⭐⭐ 실무형</td>
</tr>
</tbody>
</table>
<h4 id="-1630번---080094--intersect-except-계층형-질의">✅ 16~30번 (  080~094 ): INTERSECT, EXCEPT, 계층형 질의 </h4>
<ul>
<li>INTERSECT, MINUS, EXCEPT의 차이와 활용법을 비교합니다.</li>
<li>START WITH, CONNECT BY, ORDER SIBLINGS BY 등 계층형 질의 구문을 학습합니다.</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 080<span class="token punctuation">]</span>  
아래와 같은 데이터 모델에 대해 SQL을 수행 하였다. 다음 중 수행된 SQL과 동일한 결과를 도출하는 SQL은?
</code></pre><div class="mermaid">erDiagram
    회원 ||--o{ 서비스이용 : "회원ID"
    서비스 ||--o{ 서비스이용 : "서비스ID"


    서비스 {
        VARCHAR 서비스ID  PK
        VARCHAR 서비스명
        VARCHAR 서비스URL
    }


    서비스이용 {
        VARCHAR 회원ID "FK PK"
        VARCHAR 서비스ID "FK PK"
        DATETIME 이용일시
    }

    회원 {
        VARCHAR 회원ID PK
        VARCHAR 회원명
    }
</div><pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token punctuation">[</span>수행 <span class="token keyword keyword-SQL">SQL</span><span class="token punctuation">]</span>
<span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> B<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> B<span class="token punctuation">.</span>서비스URL
<span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 서비스ID  <span class="token keyword keyword-FROM">FROM</span> 서비스
        <span class="token keyword keyword-INTERSECT">INTERSECT</span>
        <span class="token keyword keyword-SELECT">SELECT</span> 서비스ID
        <span class="token keyword keyword-FROM">FROM</span> 서비스이용<span class="token punctuation">)</span> A<span class="token punctuation">.</span>서비스 B
<span class="token keyword keyword-WHERE">WHERE</span> A<span class="token punctuation">.</span>서비스ID <span class="token operator">=</span> B<span class="token punctuation">.</span>서비스ID<span class="token punctuation">;</span>
</code></pre><pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code>① <span class="token keyword keyword-SELECT">SELECT</span> B<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스URL
<span class="token keyword keyword-FROM">FROM</span> 서비스 A <span class="token punctuation">,</span> 서비스이용 B
<span class="token keyword keyword-WHERE">WHERE</span> A<span class="token punctuation">.</span>서비스ID <span class="token operator">=</span> B<span class="token punctuation">.</span>서비스ID<span class="token punctuation">;</span>

② <span class="token keyword keyword-SELECT">SELECT</span> X<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> X<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> X<span class="token punctuation">.</span>서비스URL
<span class="token keyword keyword-FROM">FROM</span> 서비스 X
<span class="token keyword keyword-WHERE">WHERE</span> <span class="token operator">NOT</span> <span class="token keyword keyword-EXISTS">EXISTS</span> <span class="token punctuation">(</span>
    <span class="token keyword keyword-SELECT">SELECT</span> <span class="token number">1</span>
    <span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 서비스ID  <span class="token keyword keyword-FROM">FROM</span> 서비스
          MINUS
          <span class="token keyword keyword-SELECT">SELECT</span> 서비스ID  <span class="token keyword keyword-FROM">FROM</span> 서비스이용<span class="token punctuation">)</span> Y
    <span class="token keyword keyword-WHERE">WHERE</span> X<span class="token punctuation">.</span> 서비스ID <span class="token operator">=</span> Y<span class="token punctuation">.</span> 서비스ID<span class="token punctuation">)</span><span class="token punctuation">;</span>

③ <span class="token keyword keyword-SELECT">SELECT</span> B<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스URL
<span class="token keyword keyword-FROM">FROM</span> 서비스 A <span class="token keyword keyword-LEFT">LEFT</span> <span class="token keyword keyword-OUTER">OUTER</span> <span class="token keyword keyword-JOIN">JOIN</span> 서비스이용 B
<span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>서비스ID <span class="token operator">=</span> B<span class="token punctuation">.</span>서비스ID<span class="token punctuation">)</span>
<span class="token keyword keyword-WHERE">WHERE</span> B<span class="token punctuation">.</span>서비스ID <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword keyword-GROUP">GROUP</span> <span class="token keyword keyword-BY">BY</span> B<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스URL<span class="token punctuation">;</span>

④ <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>서비스URL
<span class="token keyword keyword-FROM">FROM</span> 서비스 A
<span class="token keyword keyword-WHERE">WHERE</span> 서비스ID <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 서비스ID <span class="token keyword keyword-FROM">FROM</span> 서비스이용
                MINUS
                <span class="token keyword keyword-SELECT">SELECT</span> 서비스ID  <span class="token keyword keyword-FROM">FROM</span> 서비스<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p><strong>정답:</strong> ②</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
INTERSECT은 두 테이블에 모두 있는 값만 보여줘요.<br>
MINUS로 제외된 걸 다시 NOT EXISTS로 걸러내면 같은 결과예요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>INTERSECT: 교집합</li>
<li>MINUS: 차집합</li>
<li>NOT EXISTS로 MINUS 결과 제외 → 교집합과 동일</li>
</ul>
<h6 id="-원래-수행-sql">🎯 원래 수행 SQL </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> B<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> B<span class="token punctuation">.</span>서비스URL
<span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span>
  <span class="token keyword keyword-SELECT">SELECT</span> 서비스ID <span class="token keyword keyword-FROM">FROM</span> 서비스
  <span class="token keyword keyword-INTERSECT">INTERSECT</span>
  <span class="token keyword keyword-SELECT">SELECT</span> 서비스ID <span class="token keyword keyword-FROM">FROM</span> 서비스이용
<span class="token punctuation">)</span> A<span class="token punctuation">,</span> 서비스 B
<span class="token keyword keyword-WHERE">WHERE</span> A<span class="token punctuation">.</span>서비스ID <span class="token operator">=</span> B<span class="token punctuation">.</span>서비스ID<span class="token punctuation">;</span>
</code></pre><h6 id="-의미">🔍 의미 </h6>
<ul>
<li><strong>INTERSECT</strong>: 두 테이블에 모두 존재하는 <strong>서비스ID</strong>만 추출 (교집합)</li>
<li>그 결과를 서비스 테이블과 조인하여 상세 정보 출력</li>
</ul>
<h6 id="-정답-sql-보기-2">✅ 정답 SQL (보기 ②) </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> X<span class="token punctuation">.</span>서비스ID<span class="token punctuation">,</span> X<span class="token punctuation">.</span>서비스명<span class="token punctuation">,</span> X<span class="token punctuation">.</span>서비스URL
<span class="token keyword keyword-FROM">FROM</span> 서비스 X
<span class="token keyword keyword-WHERE">WHERE</span> <span class="token operator">NOT</span> <span class="token keyword keyword-EXISTS">EXISTS</span> <span class="token punctuation">(</span>
  <span class="token keyword keyword-SELECT">SELECT</span> <span class="token number">1</span>
  <span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span>
    <span class="token keyword keyword-SELECT">SELECT</span> 서비스ID <span class="token keyword keyword-FROM">FROM</span> 서비스
    MINUS
    <span class="token keyword keyword-SELECT">SELECT</span> 서비스ID <span class="token keyword keyword-FROM">FROM</span> 서비스이용
  <span class="token punctuation">)</span> Y
  <span class="token keyword keyword-WHERE">WHERE</span> X<span class="token punctuation">.</span>서비스ID <span class="token operator">=</span> Y<span class="token punctuation">.</span>서비스ID
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h6 id="-sql-처리-순서-설명">🧠 SQL 처리 순서 설명 </h6>
<h6 id="1️⃣-from-서비스-x">1️⃣ <strong>FROM 서비스 X</strong> </h6>
<ul>
<li>기준 테이블은 <strong>서비스</strong>.</li>
<li>모든 서비스 행을 대상으로 시작합니다.</li>
</ul>
<h6 id="2️⃣-where-not-exists-">2️⃣ <strong>WHERE NOT EXISTS (...)</strong> </h6>
<ul>
<li>각 서비스에 대해 서브쿼리를 실행하여 조건을 만족하는지 확인합니다.</li>
<li>서브쿼리 결과가 <strong>존재하지 않을 경우</strong>에만 해당 서비스가 결과에 포함됩니다.</li>
</ul>
<h6 id="3️⃣-서브쿼리-내부-select-서비스id-from-서비스-minus-select-서비스id-from-서비스이용">3️⃣ 서브쿼리 내부: <strong>SELECT 서비스ID FROM 서비스 MINUS SELECT 서비스ID FROM 서비스이용</strong> </h6>
<ul>
<li><strong>MINUS</strong>: 서비스 테이블에만 있고, 서비스이용에는 없는 <strong>서비스ID</strong> 추출 (차집합)</li>
<li>즉, <strong>이용된 적 없는 서비스ID</strong> 목록을 생성합니다.</li>
</ul>
<h6 id="4️⃣-where-x서비스id--y서비스id">4️⃣ <strong>WHERE X.서비스ID = Y.서비스ID</strong> </h6>
<ul>
<li>메인 서비스ID가 서브쿼리 결과에 포함되어 있으면 제외</li>
<li>포함되어 있지 않으면 결과에 유지</li>
</ul>
<h6 id="5️⃣-select-x서비스id-x서비스명-x서비스url">5️⃣ <strong>SELECT X.서비스ID, X.서비스명, X.서비스URL</strong> </h6>
<ul>
<li>최종적으로 <strong>서비스이용 테이블에도 존재하는 서비스ID</strong>만 출력</li>
<li>즉, <strong>INTERSECT</strong>와 동일한 결과</li>
</ul>
<h6 id="-핵심-요약">📊 핵심 요약 </h6>
<table>
<thead>
<tr>
<th>처리 단계</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>FROM 서비스 X</strong></td>
<td>기준 테이블 선택</td>
</tr>
<tr>
<td><strong>MINUS</strong></td>
<td>서비스 중 이용되지 않은 것 추출</td>
</tr>
<tr>
<td><strong>NOT EXISTS</strong></td>
<td>이용되지 않은 서비스 제외</td>
</tr>
<tr>
<td><strong>SELECT</strong></td>
<td>이용된 서비스 정보 출력</td>
</tr>
</tbody>
</table>
<h6 id="-결과적으로">✅ 결과적으로 </h6>
<ul>
<li><strong>INTERSECT</strong>는 교집합</li>
<li><strong>MINUS + NOT EXISTS</strong>는 교집합을 우회적으로 구현</li>
<li>보기 ②는 정확히 같은 결과를 도출합니다</li>
</ul>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>단순 JOIN은 중복 포함 가능</td>
<td>❌</td>
</tr>
<tr>
<td>②</td>
<td>MINUS + NOT EXISTS로 교집합 구현</td>
<td>✅</td>
</tr>
<tr>
<td>③</td>
<td>IS NULL은 제외 조건</td>
<td>❌</td>
</tr>
<tr>
<td>④</td>
<td>MINUS 방향이 반대</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
INTERSECT = NOT EXISTS + MINUS</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 42: 서브쿼리 유형</li>
<li>🃏 카드 28: EXISTS = 존재 확인</li>
<li>🃏 카드 23: JOIN = 연결</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 081<span class="token punctuation">]</span>  
SET OPERATOR 중에서 수학의 교집합과 같은 기능을 하는 연산자로 가장 적절한 것은?

① UNION
② INTERSECT
③ MINUS
④ EXCEPT
</code></pre><p><strong>정답:</strong> ②</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
교집합은 INTERSECT! 두 테이블에 모두 있는 값만 보여줘요.</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>UNION: 합집합</li>
<li>INTERSECT: 교집합</li>
<li>MINUS/EXCEPT: 차집합</li>
</ul>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>합집합</td>
<td>❌</td>
</tr>
<tr>
<td>②</td>
<td>교집합</td>
<td>✅</td>
</tr>
<tr>
<td>③</td>
<td>차집합</td>
<td>❌</td>
</tr>
<tr>
<td>④</td>
<td>차집합(SQL Server)</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
INTERSECT = 공통된 값만</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 42: 서브쿼리 유형</li>
<li>🃏 카드 44: DML vs DDL</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 082<span class="token punctuation">]</span>   
다음 중 아래의 EMP 테이블의 데이터를 참조하여 실행한 SQL의 결과로 가장 적절한 것은?
</code></pre><pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> ENAME AAA<span class="token punctuation">,</span> JOB AAB
<span class="token keyword keyword-FROM">FROM</span> EMP
<span class="token keyword keyword-WHERE">WHERE</span> EMPNO <span class="token operator">=</span> <span class="token number">7369</span>
<span class="token keyword keyword-UNION">UNION</span> <span class="token keyword keyword-ALL">ALL</span>
<span class="token keyword keyword-SELECT">SELECT</span> ENAME BBA<span class="token punctuation">,</span> JOB BBB
<span class="token keyword keyword-FROM">FROM</span> EMP
<span class="token keyword keyword-WHERE">WHERE</span> EMPNO <span class="token operator">=</span> <span class="token number">7566</span>
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><p>[ 테이블 1: EMP]</p>
<table>
<thead>
<tr>
<th>EMPNO</th>
<th>ENAME</th>
<th>JOB</th>
<th>MGR</th>
<th>HIREDATE</th>
<th>SAL</th>
<th>COMM</th>
<th>DEPTNO</th>
</tr>
</thead>
<tbody>
<tr>
<td>7369</td>
<td>SMITH</td>
<td>CLERK</td>
<td>7902</td>
<td>1980-12-17</td>
<td>800</td>
<td></td>
<td>20</td>
</tr>
<tr>
<td>7499</td>
<td>ALLEN</td>
<td>SALESMAN</td>
<td>7698</td>
<td>1981-02-20</td>
<td>1600</td>
<td>300</td>
<td>30</td>
</tr>
<tr>
<td>7521</td>
<td>WARD</td>
<td>SALESMAN</td>
<td>7698</td>
<td>1981-02-22</td>
<td>1250</td>
<td>500</td>
<td>30</td>
</tr>
<tr>
<td>7566</td>
<td>JONES</td>
<td>MANAGER</td>
<td>7839</td>
<td>1981-04-02</td>
<td>2975</td>
<td></td>
<td>20</td>
</tr>
<tr>
<td>7654</td>
<td>MARTIN</td>
<td>SALESMAN</td>
<td>7698</td>
<td>1981-09-28</td>
<td>1250</td>
<td>1400</td>
<td>30</td>
</tr>
<tr>
<td>7698</td>
<td>BLAKE</td>
<td>MANAGER</td>
<td>7839</td>
<td>1981-05-01</td>
<td>2850</td>
<td></td>
<td>30</td>
</tr>
<tr>
<td>7782</td>
<td>CLARK</td>
<td>MANAGER</td>
<td>7839</td>
<td>1981-06-09</td>
<td>2450</td>
<td></td>
<td>10</td>
</tr>
<tr>
<td>7788</td>
<td>SCOTT</td>
<td>ANALYST</td>
<td>7566</td>
<td>1987-07-13</td>
<td>3000</td>
<td></td>
<td>20</td>
</tr>
<tr>
<td>7839</td>
<td>KING</td>
<td>PRESIDENT</td>
<td></td>
<td>1981-11-17</td>
<td>5000</td>
<td></td>
<td>10</td>
</tr>
<tr>
<td>7844</td>
<td>TURNER</td>
<td>SALESMAN</td>
<td>7698</td>
<td>1981-09-08</td>
<td>1500</td>
<td>0</td>
<td>30</td>
</tr>
<tr>
<td>7876</td>
<td>ADAMS</td>
<td>CLERK</td>
<td>7788</td>
<td>1987-07-13</td>
<td>1100</td>
<td></td>
<td>20</td>
</tr>
<tr>
<td>7900</td>
<td>JAMES</td>
<td>CLERK</td>
<td>7698</td>
<td>1981-12-03</td>
<td>950</td>
<td></td>
<td>30</td>
</tr>
<tr>
<td>7902</td>
<td>FORD</td>
<td>ANALYST</td>
<td>7566</td>
<td>1981-12-03</td>
<td>3000</td>
<td></td>
<td>20</td>
</tr>
<tr>
<td>7934</td>
<td>MILLER</td>
<td>CLERK</td>
<td>7782</td>
<td>1982-01-23</td>
<td>1300</td>
<td></td>
<td>10</td>
</tr>
</tbody>
</table>
<p>①</p>
<table>
<thead>
<tr>
<th>AAA</th>
<th>AAB</th>
</tr>
</thead>
<tbody>
<tr>
<td>SMITH</td>
<td>CLERK</td>
</tr>
<tr>
<td>JONES</td>
<td>MANAGER</td>
</tr>
</tbody>
</table>
<p>②</p>
<table>
<thead>
<tr>
<th>AAA</th>
<th>AAB</th>
</tr>
</thead>
<tbody>
<tr>
<td>JONES</td>
<td>MANAGER</td>
</tr>
<tr>
<td>SMITH</td>
<td>CLERK</td>
</tr>
</tbody>
</table>
<p>③</p>
<table>
<thead>
<tr>
<th>BBA</th>
<th>BBB</th>
</tr>
</thead>
<tbody>
<tr>
<td>SMITH</td>
<td>CLERK</td>
</tr>
<tr>
<td>JONES</td>
<td>MANAGER</td>
</tr>
</tbody>
</table>
<p>④</p>
<table>
<thead>
<tr>
<th>BBA</th>
<th>BBB</th>
</tr>
</thead>
<tbody>
<tr>
<td>JONES</td>
<td>MANAGER</td>
</tr>
<tr>
<td>SMITH</td>
<td>CLERK</td>
</tr>
</tbody>
</table>
<p><strong>정답:</strong> ②</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
UNION ALL은 중복 제거 안 해요!<br>
컬럼명은 첫 SELECT 기준으로 정렬돼요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>UNION ALL: 중복 포함</li>
<li>컬럼명은 첫 SELECT 기준</li>
<li>ORDER BY 1, 2 → AAA, AAB 기준 정렬</li>
</ul>
<h6 id="-sql-처리-순서-설명-1">🧠 SQL 처리 순서 설명 </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> ENAME AAA<span class="token punctuation">,</span> JOB AAB
<span class="token keyword keyword-FROM">FROM</span> EMP
<span class="token keyword keyword-WHERE">WHERE</span> EMPNO <span class="token operator">=</span> <span class="token number">7369</span>
<span class="token keyword keyword-UNION">UNION</span> <span class="token keyword keyword-ALL">ALL</span>
<span class="token keyword keyword-SELECT">SELECT</span> ENAME BBA<span class="token punctuation">,</span> JOB BBB
<span class="token keyword keyword-FROM">FROM</span> EMP
<span class="token keyword keyword-WHERE">WHERE</span> EMPNO <span class="token operator">=</span> <span class="token number">7566</span>
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><h6 id="1️⃣-select-ename-aaa-job-aab-from-emp-where-empno--7369">1️⃣ <strong>SELECT ENAME AAA, JOB AAB FROM EMP WHERE EMPNO = 7369</strong> </h6>
<ul>
<li>EMP 테이블에서 사번이 7369인 행을 선택합니다.</li>
<li>결과: <strong>ENAME = SMITH</strong>, <strong>JOB = CLERK</strong></li>
</ul>
<h6 id="2️⃣-select-ename-bba-job-bbb-from-emp-where-empno--7566">2️⃣ <strong>SELECT ENAME BBA, JOB BBB FROM EMP WHERE EMPNO = 7566</strong> </h6>
<ul>
<li>EMP 테이블에서 사번이 7566인 행을 선택합니다.</li>
<li>결과: <strong>ENAME = JONES</strong>, <strong>JOB = MANAGER</strong></li>
</ul>
<h6 id="3️⃣-union-all">3️⃣ <strong>UNION ALL</strong> </h6>
<ul>
<li>두 SELECT 결과를 <strong>합칩니다</strong>.</li>
<li><strong>UNION ALL</strong>은 <strong>중복 제거 없이</strong> 모두 포함합니다.</li>
<li>결과: 2건 (SMITH + JONES)</li>
</ul>
<h6 id="4️⃣-order-by-1-2">4️⃣ <strong>ORDER BY 1, 2</strong> </h6>
<ul>
<li>결과를 첫 번째 컬럼(ENAME), 두 번째 컬럼(JOB) 기준으로 오름차순 정렬합니다.</li>
<li>알파벳 순으로 <strong>JONES</strong>가 <strong>SMITH</strong>보다 먼저 나옵니다.</li>
</ul>
<h6 id="-최종-결과">✅ 최종 결과 </h6>
<table>
<thead>
<tr>
<th>ENAME</th>
<th>JOB</th>
</tr>
</thead>
<tbody>
<tr>
<td>JONES</td>
<td>MANAGER</td>
</tr>
<tr>
<td>SMITH</td>
<td>CLERK</td>
</tr>
</tbody>
</table>
<h6 id="-핵심-요약-1">📊 핵심 요약 </h6>
<table>
<thead>
<tr>
<th>처리 단계</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SELECT ... WHERE EMPNO = 7369</strong></td>
<td>SMITH 추출</td>
</tr>
<tr>
<td><strong>SELECT ... WHERE EMPNO = 7566</strong></td>
<td>JONES 추출</td>
</tr>
<tr>
<td><strong>UNION ALL</strong></td>
<td>두 결과 합치기</td>
</tr>
<tr>
<td><strong>ORDER BY 1, 2</strong></td>
<td>이름, 직무 기준 정렬</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>순서 반대</td>
<td>❌</td>
</tr>
<tr>
<td>②</td>
<td>정렬 기준 정확</td>
<td>✅</td>
</tr>
<tr>
<td>③</td>
<td>컬럼명 기준 오류</td>
<td>❌</td>
</tr>
<tr>
<td>④</td>
<td>컬럼명 기준 오류</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
UNION ALL = 중복 유지<br>
ORDER BY = 첫 SELECT 기준</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 24: GROUP BY = 묶기</li>
<li>🃏 카드 33: COUNT(*) = 전체 행</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 083<span class="token punctuation">]</span>  
다음 중 아래 TBL1, TBL2 테이블에 대해 SQL을 수행한 결과인 것은?
</code></pre><p>[테이블 1: TBL1]</p>
<table>
<thead>
<tr>
<th>COL1</th>
<th>COL2</th>
</tr>
</thead>
<tbody>
<tr>
<td>AA</td>
<td>A1</td>
</tr>
<tr>
<td>AB</td>
<td>A2</td>
</tr>
</tbody>
</table>
<p>[테이블 2: TBL2]</p>
<table>
<thead>
<tr>
<th>COL1</th>
<th>COL2</th>
</tr>
</thead>
<tbody>
<tr>
<td>AA</td>
<td>A1</td>
</tr>
<tr>
<td>AB</td>
<td>A2</td>
</tr>
<tr>
<td>AC</td>
<td>A3</td>
</tr>
<tr>
<td>AD</td>
<td>A4</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token punctuation">[</span><span class="token keyword keyword-SQL">SQL</span><span class="token punctuation">]</span>
<span class="token keyword keyword-SELECT">SELECT</span> COL1<span class="token punctuation">,</span> COL2<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword keyword-AS">AS</span> CNT
<span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> COL1<span class="token punctuation">,</span> COL2 <span class="token keyword keyword-FROM">FROM</span> TBL1
      <span class="token keyword keyword-UNION">UNION</span> <span class="token keyword keyword-ALL">ALL</span>
      <span class="token keyword keyword-SELECT">SELECT</span> COL1<span class="token punctuation">,</span> COL2 <span class="token keyword keyword-FROM">FROM</span> TBL2
      <span class="token keyword keyword-UNION">UNION</span>
      <span class="token keyword keyword-SELECT">SELECT</span> COL1<span class="token punctuation">,</span> COL2 <span class="token keyword keyword-FROM">FROM</span> TBL1<span class="token punctuation">)</span>
<span class="token keyword keyword-GROUP">GROUP</span> <span class="token keyword keyword-BY">BY</span> COL1<span class="token punctuation">,</span> COL2<span class="token punctuation">;</span>
</code></pre><p>①</p>
<table>
<thead>
<tr>
<th>COL1</th>
<th>COL2</th>
<th>CNT</th>
</tr>
</thead>
<tbody>
<tr>
<td>AA</td>
<td>A1</td>
<td>1</td>
</tr>
<tr>
<td>AB</td>
<td>A2</td>
<td>1</td>
</tr>
<tr>
<td>AC</td>
<td>A3</td>
<td>1</td>
</tr>
<tr>
<td>AD</td>
<td>A4</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>②</p>
<table>
<thead>
<tr>
<th>COL1</th>
<th>COL2</th>
<th>CNT</th>
</tr>
</thead>
<tbody>
<tr>
<td>AA</td>
<td>A1</td>
<td>2</td>
</tr>
<tr>
<td>AB</td>
<td>A2</td>
<td>2</td>
</tr>
<tr>
<td>AC</td>
<td>A3</td>
<td>1</td>
</tr>
<tr>
<td>AD</td>
<td>A4</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>③</p>
<table>
<thead>
<tr>
<th>COL1</th>
<th>COL2</th>
<th>CNT</th>
</tr>
</thead>
<tbody>
<tr>
<td>AA</td>
<td>A1</td>
<td>3</td>
</tr>
<tr>
<td>AB</td>
<td>A2</td>
<td>3</td>
</tr>
<tr>
<td>AC</td>
<td>A3</td>
<td>1</td>
</tr>
<tr>
<td>AD</td>
<td>A4</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>④</p>
<table>
<thead>
<tr>
<th>COL1</th>
<th>COL2</th>
<th>CNT</th>
</tr>
</thead>
<tbody>
<tr>
<td>AA</td>
<td>A1</td>
<td>3</td>
</tr>
<tr>
<td>AB</td>
<td>A2</td>
<td>3</td>
</tr>
<tr>
<td>AC</td>
<td>A3</td>
<td>2</td>
</tr>
<tr>
<td>AD</td>
<td>A4</td>
<td>2</td>
</tr>
</tbody>
</table>
<p><strong>정답:</strong> ③</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
UNION ALL은 중복을 유지하고, UNION은 중복을 제거해요.<br>
TBL1이 2번 등장하지만 UNION이 중복을 제거하니까 총 6행이 돼요.</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>TBL1: 2행</li>
<li>TBL2: 4행</li>
<li>UNION ALL → 6행</li>
<li>UNION TBL1 → 중복 제거 → 추가 없음</li>
<li>최종 6행 → AA/A1, AB/A2는 3번씩 등장</li>
</ul>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>중복 제거된 결과</td>
<td>❌</td>
</tr>
<tr>
<td>②</td>
<td>2번씩 등장</td>
<td>❌</td>
</tr>
<tr>
<td>③</td>
<td>정확한 중복 계산</td>
<td>✅</td>
</tr>
<tr>
<td>④</td>
<td>TBL2가 2번 등장한 것처럼 계산</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
UNION = 중복 제거<br>
UNION ALL = 중복 유지</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 42: 서브쿼리 유형</li>
<li>🃏 카드 33: COUNT(*) = 전체 행</li>
</ul>
<pre data-role="codeBlock" data-info="" class="language-text"><code>✅ UNION vs UNION ALL 복습
UNION → 중복 제거
UNION ALL → 중복 유지

SQL 실행 순서 분석

1. `SELECT COL1, COL2 FROM TBL1`  
   → 2 rows: AA/A1, AB/A2

2. `UNION ALL` with TBL2  
   → 4 rows added: AA/A1, AB/A2, AC/A3, AD/A4  
   → 총 6 rows

3. `UNION` with TBL1  
   → TBL1 has AA/A1, AB/A2  
   → `UNION` removes duplicates  
   → AA/A1, AB/A2 already exist → no new rows added  
   → 총 여전히 6 rows
</code></pre><hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 084<span class="token punctuation">]</span>
다음 중 아래에서 테이블 T1, T2에 대한 가, 나 두 개의 쿼리 결과 조회되는 행의 수로 가장 적절한 것은?
</code></pre><p>[ 테이블 1: T1]</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
</tr>
</thead>
<tbody>
<tr>
<td>A3</td>
<td>B2</td>
<td>C3</td>
</tr>
<tr>
<td>A1</td>
<td>B1</td>
<td>C1</td>
</tr>
<tr>
<td>A2</td>
<td>B1</td>
<td>C2</td>
</tr>
</tbody>
</table>
<p>[테이블 2: T2]</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
</tr>
</thead>
<tbody>
<tr>
<td>A1</td>
<td>B1</td>
<td>C1</td>
</tr>
<tr>
<td>A3</td>
<td>B2</td>
<td>C3</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code>가<span class="token punctuation">.</span> <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C <span class="token keyword keyword-FROM">FROM</span> R1
<span class="token keyword keyword-UNION">UNION</span> <span class="token keyword keyword-ALL">ALL</span>
<span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C <span class="token keyword keyword-FROM">FROM</span> R2

나<span class="token punctuation">.</span> <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C <span class="token keyword keyword-FROM">FROM</span> R1
<span class="token keyword keyword-UNION">UNION</span>
<span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C <span class="token keyword keyword-FROM">FROM</span> R2
</code></pre><p>① 가: 5개, 나: 3개<br>
② 가: 5개, 나: 5개<br>
③ 가: 3개, 나: 3개<br>
④ 가: 3개, 나: 5개</p>
<p><strong>정답:</strong> ① (가: 5개, 나: 3개)</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
UNION ALL은 중복 포함 → 3+2 = 5<br>
UNION은 중복 제거 → 3개만 남아요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>R1: 3행</li>
<li>R2: 2행 (1개 중복)</li>
<li>UNION ALL → 5행</li>
<li>UNION → 중복 제거 → 3행</li>
</ul>
<p>🧠 <strong>기억법:</strong><br>
ALL = 모두 포함<br>
UNION = 중복 제거</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 42: 서브쿼리 유형</li>
<li>🃏 카드 44: DML vs DDL</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 085<span class="token punctuation">]</span> 
다음 중 아래와 같은 집합이 존재 할 때, 집합 A와 B에 대하여 집합연산을
수행한 결과 집합 C가 되는 경우 이용되는 데이터베이스 집합연산은?
</code></pre><pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code>집합 A <span class="token operator">=</span> {가<span class="token punctuation">,</span> 나<span class="token punctuation">,</span> 다<span class="token punctuation">,</span> 라}<span class="token punctuation">,</span>
집합 B <span class="token operator">=</span> {다<span class="token punctuation">,</span> 라<span class="token punctuation">,</span> 마<span class="token punctuation">,</span> 바}<span class="token punctuation">,</span>
집합 C <span class="token operator">=</span> {다<span class="token punctuation">,</span> 라}
</code></pre><p>① Union<br>
② Difference<br>
③ Intersection<br>
④ Product</p>
<p><strong>정답:</strong> ③ (INTERSECTION)</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
두 집합에 모두 있는 값만 남기면 교집합이에요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>UNION: 합집합</li>
<li>INTERSECT: 교집합</li>
<li>DIFFERENCE: 차집합</li>
<li>PRODUCT: 곱집합</li>
</ul>
<p>🧠 <strong>기억법:</strong><br>
INTERSECT = 공통된 값만</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 42: 서브쿼리 유형</li>
</ul>
<hr>
<h3 id="086">✅086 </h3>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 086<span class="token punctuation">]</span>  
아래와 같은 데이터 모델에 대한 설명으로 가장 적절한 것은? <span class="token punctuation">(</span>단, 시스템적으로 회원기본정보와 회원상세정보는 <span class="token number">1</span>:1, 양쪽 필수 관계임을 보장한다.<span class="token punctuation">)</span>
</code></pre><div class="mermaid">erDiagram
    회원기본정보 ||--|| 회원상세정보 : "회원ID"

    회원기본정보 {
        VARCHAR 회원ID  PK
    }

    회원상세정보 {
        VARCHAR 회원ID "FK PK"
    }

</div><pre data-role="codeBlock" data-info="" class="language-text"><code>① 회원ID 컬럼을 대상으로 (회원기본정보 EXCEPT 회원상세정보) 연산을
수행하면 회원상세정보가 등록되지 않은 회원ID가 추출된다.
② 회원ID 컬럼을 대상으로 (회원기본정보 UNION ALL 회원상세정보)
연산을 수행한 결과의 건수는 회원기본정보의 전체건수와 동일하다.
③ 회원ID 컬럼을 대상으로 (회원기본정보 INTERSECT 회원상세정보)
연산을 수행한 결과의 건수와 두 테이블을 회원ID로 JOIN 연산을 수행한
결과의 건수는 동일하다.
④ 회원ID 컬럼을 대상으로 (회원기본정보 INTERSECT 회원상세정보)
연산을 수행한 결과와 (회원기본정보 UNION 회원상세정보) 연산을
수행한 결과는 다르다.
</code></pre><p><strong>정답:</strong> ③</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
1:1 필수 관계면 JOIN과 INTERSECT 결과가 같아요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>EXCEPT: 차집합 → 존재하지 않으면 결과 없음</li>
<li>UNION ALL: 중복 포함 → 건수 증가</li>
<li>INTERSECT: 공통된 값 → JOIN과 동일</li>
</ul>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>EXCEPT 결과 없음</td>
<td>❌</td>
</tr>
<tr>
<td>②</td>
<td>UNION ALL은 중복 포함</td>
<td>❌</td>
</tr>
<tr>
<td>③</td>
<td>INTERSECT = JOIN 결과</td>
<td>✅</td>
</tr>
<tr>
<td>④</td>
<td>INTERSECT = UNION이면 안 됨</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
1:1 필수 관계 → JOIN = INTERSECT</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 41: JOIN 유형</li>
<li>🃏 카드 42: 서브쿼리 유형</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 087<span class="token punctuation">]</span>  
아래와 같은 데이터 상황에서 아래의 SQL을 수행할 경우 정렬 순서상 <span class="token number">2</span>번째 표시될 값을 적으시오.
</code></pre><p>[TAB1]</p>
<table>
<thead>
<tr>
<th>C1</th>
<th>C2</th>
<th>C3</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td></td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>B</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>C</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>D</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> C3
<span class="token keyword keyword-FROM">FROM</span> TAB1
<span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> C2 <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR C1 <span class="token operator">=</span> C2
<span class="token keyword keyword-ORDER">ORDER</span> SIBLINGS <span class="token keyword keyword-BY">BY</span> C3 <span class="token keyword keyword-DESC">DESC</span>
</code></pre><p><strong>정답:</strong> C</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
형제 노드끼리 C3 내림차순 정렬 → A, C, B, D 순서<br>
두 번째는 C!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>START WITH: C2 IS NULL → C1 = 1</li>
<li>CONNECT BY: C1 = C2</li>
<li>형제 노드: C1 = 2, 3 → C3 = B, C</li>
<li>ORDER SIBLINGS BY C3 DESC → C, B</li>
</ul>
<h6 id="-sql-처리-순서-설명-2">🧠 SQL 처리 순서 설명 </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> C3
<span class="token keyword keyword-FROM">FROM</span> TAB1
<span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> C2 <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR C1 <span class="token operator">=</span> C2
<span class="token keyword keyword-ORDER">ORDER</span> SIBLINGS <span class="token keyword keyword-BY">BY</span> C3 <span class="token keyword keyword-DESC">DESC</span><span class="token punctuation">;</span>
</code></pre><h6 id="-원본-테이블-tab1">🧾 원본 테이블: TAB1 </h6>
<table>
<thead>
<tr>
<th>C1</th>
<th>C2</th>
<th>C3</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td></td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>B</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>C</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>D</td>
</tr>
</tbody>
</table>
<h6 id="1️⃣-from-tab1">1️⃣ <strong>FROM TAB1</strong> </h6>
<blockquote>
<p>전체 테이블을 대상으로 시작</p>
</blockquote>
<table>
<thead>
<tr>
<th>C1</th>
<th>C2</th>
<th>C3</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td></td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td><strong>1</strong></td>
<td>B</td>
</tr>
<tr>
<td>3</td>
<td><strong>1</strong></td>
<td>C</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>D</td>
</tr>
</tbody>
</table>
<h6 id="2️⃣-start-with-c2-is-null">2️⃣ <strong>START WITH C2 IS NULL</strong> </h6>
<blockquote>
<p>루트 노드 선택: <strong>C2 IS NULL</strong> → <strong>C1 = 1</strong></p>
</blockquote>
<ul>
<li>C2 값이 NULL인 행을 루트 노드로 지정하겠다는 뜻</li>
<li>C1 = 1, C3 = A</li>
</ul>
<table>
<thead>
<tr>
<th>C1</th>
<th>C2</th>
<th>C3</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td></td>
<td>A</td>
</tr>
</tbody>
</table>
<h6 id="3️⃣-connect-by-prior-c1--c2">3️⃣ <strong>CONNECT BY PRIOR C1 = C2</strong> </h6>
<blockquote>
<p>계층 연결: 부모의 <strong>C1</strong> = 자식의 <strong>C2</strong></p>
</blockquote>
<ul>
<li>루트의 C1 = 1 → 이 값과 일치하는 C2를 가진 행을 찾음</li>
<li>TAB1에서 C2 = 1인 행은:<br>
C1 = 2, C3 = B<br>
C1 = 3, C3 = C</li>
</ul>
<p>➡ 이 두 행이 루트 C1 = 1의 자식 노드가 됩니다</p>
<table>
<thead>
<tr>
<th>단계</th>
<th>부모 C1</th>
<th>자식 C1</th>
<th>자식 C2</th>
<th>자식 C3</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong>1</strong></td>
<td>2</td>
<td><strong>1</strong></td>
<td>B</td>
</tr>
<tr>
<td>1</td>
<td><strong>1</strong></td>
<td>3</td>
<td><strong>1</strong></td>
<td>C</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>4</td>
<td>2</td>
<td>D</td>
</tr>
</tbody>
</table>
<h6 id="4️⃣-계층-구조-구성">4️⃣ 계층 구조 구성 </h6>
<table>
<thead>
<tr>
<th>계층</th>
<th>C1</th>
<th>C2</th>
<th>C3</th>
<th>부모</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td></td>
<td>A</td>
<td>—</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td><strong>1</strong></td>
<td>C</td>
<td><strong>1</strong></td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td><strong>1</strong></td>
<td>B</td>
<td><strong>1</strong></td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>2</td>
<td>D</td>
<td>2</td>
</tr>
</tbody>
</table>
<h6 id="5️⃣-order-siblings-by-c3-desc">5️⃣ <strong>ORDER SIBLINGS BY C3 DESC</strong> </h6>
<blockquote>
<p>형제 노드끼리 C3 기준 내림차순 정렬</p>
</blockquote>
<table>
<thead>
<tr>
<th>부모 C1</th>
<th>자식 C1</th>
<th>자식 C3</th>
<th>정렬 순서</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3</td>
<td>C</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>B</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>4</td>
<td>D</td>
<td>— (단일)</td>
</tr>
</tbody>
</table>
<h6 id="6️⃣-최종-출력-순서">6️⃣ 최종 출력 순서 </h6>
<table>
<thead>
<tr>
<th>출력 순서</th>
<th>C1</th>
<th>C3</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>A</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>C</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>B</td>
</tr>
<tr>
<td>4</td>
<td>4</td>
<td>D</td>
</tr>
</tbody>
</table>
<p>✅ <strong>두 번째 출력 값은 <strong>C</strong></strong></p>
<p>🧠 <strong>기억법:</strong><br>
ORDER SIBLINGS BY = 형제끼리 정렬</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 88: 계층형 질의 = START WITH + CONNECT BY</li>
<li>🃏 카드 43: 윈도우 함수 예시</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 088<span class="token punctuation">]</span>   
다음 중 Oracle 계층형 질의에 대한 설명으로 가장 부적절한 것은?

① START WITH절은 계층 구조의 시작점을 지정하는 구문이다.
② ORDER SIBLINGS BY절은 형제 노드 사이에서 정렬을 지정하는 구문이다.
③ 순방향전개란 부모 노드로부터 자식 노드 방향으로 전개하는 것을 말한다.
④ 루트 노드의 LEVEL 값은 <span class="token number">0</span>이다.
</code></pre><p><strong>정답:</strong> ④</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
Oracle에서 LEVEL은 1부터 시작해요! 루트 노드의 LEVEL은 1이에요.</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>START WITH: 루트 노드 지정</li>
<li>CONNECT BY: 부모-자식 관계 지정</li>
<li>PRIOR 위치에 따라 순방향/역방향 결정</li>
<li>LEVEL: Oracle에서 루트는 1부터 시작</li>
</ul>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>정확한 설명</td>
<td>✅</td>
</tr>
<tr>
<td>②</td>
<td>형제 노드 정렬</td>
<td>✅</td>
</tr>
<tr>
<td>③</td>
<td>순방향 정의</td>
<td>✅</td>
</tr>
<tr>
<td>④</td>
<td>LEVEL = 0 → 오류</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
Oracle의 LEVEL은 1부터 시작!</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 88: 계층형 질의 = START WITH + CONNECT BY</li>
<li>🃏 카드 43: 윈도우 함수 예시</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 089<span class="token punctuation">]</span>  
다음 중 아래와 같은 사원 테이블에 대해서 SQL을 수행하였을 때의 결과로 가장 적절한 것은? 
</code></pre><p>[테이블 : 사원]</p>
<table>
<thead>
<tr>
<th>사원번호 (PK)</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호 (FK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>002</td>
<td>강감찬</td>
<td>2012-01-01</td>
<td>001</td>
</tr>
<tr>
<td>003</td>
<td>이순신</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>004</td>
<td>이민정</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>006</td>
<td>안성기</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
<tr>
<td>007</td>
<td>이수근</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
<tr>
<td>008</td>
<td>김병만</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token punctuation">[</span><span class="token keyword keyword-SQL">SQL</span><span class="token punctuation">]</span>
<span class="token keyword keyword-SELECT">SELECT</span> 사원번호<span class="token punctuation">,</span> 사원명<span class="token punctuation">,</span> 입사일자<span class="token punctuation">,</span> 매니저사원번호
<span class="token keyword keyword-FROM">FROM</span> 사원
<span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 매니저사원번호 <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR 사원번호 <span class="token operator">=</span> 매니저사원번호
<span class="token operator">AND</span> 입사일자 <span class="token operator">BETWEEN</span> <span class="token string">'2013-01-01'</span> <span class="token operator">AND</span> <span class="token string">'2013-12-31'</span>
<span class="token keyword keyword-ORDER">ORDER</span> SIBLINGS <span class="token keyword keyword-BY">BY</span> 사원번호:
</code></pre><p>①</p>
<table>
<thead>
<tr>
<th>사원번호 (PK)</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호 (FK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>003</td>
<td>이순신</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>004</td>
<td>이민정</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<p>② 사원 테이블</p>
<table>
<thead>
<tr>
<th>사원번호 (PK)</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호 (FK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>003</td>
<td>이순신</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>004</td>
<td>이민정</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<p>③ 사원 테이블</p>
<table>
<thead>
<tr>
<th>사원번호 (PK)</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호 (FK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<p>④ 사원 테이블</p>
<table>
<thead>
<tr>
<th>사원번호 (PK)</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호 (FK)</th>
</tr>
</thead>
<tbody>
<tr>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>006</td>
<td>안성기</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
<tr>
<td>007</td>
<td>이수근</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
<tr>
<td>008</td>
<td>김병만</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
</tbody>
</table>
<h6 id="-sql-처리-순서-설명-3">🧠 SQL 처리 순서 설명 </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> 사원번호<span class="token punctuation">,</span> 사원명<span class="token punctuation">,</span> 입사일자<span class="token punctuation">,</span> 매니저사원번호
<span class="token keyword keyword-FROM">FROM</span> 사원
<span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 매니저사원번호 <span class="token operator">IS</span> <span class="token boolean">NULL</span>
<span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR 사원번호 <span class="token operator">=</span> 매니저사원번호
<span class="token operator">AND</span> 입사일자 <span class="token operator">BETWEEN</span> <span class="token string">'2013-01-01'</span> <span class="token operator">AND</span> <span class="token string">'2013-12-31'</span>
<span class="token keyword keyword-ORDER">ORDER</span> SIBLINGS <span class="token keyword keyword-BY">BY</span> 사원번호<span class="token punctuation">;</span>
</code></pre><h6 id="1️⃣-from-사원">1️⃣ <strong>FROM 사원</strong> </h6>
<blockquote>
<p>전체 테이블을 대상으로 시작</p>
</blockquote>
<table>
<thead>
<tr>
<th>사원번호</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호</th>
</tr>
</thead>
<tbody>
<tr>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>002</td>
<td>강감찬</td>
<td>2012-01-01</td>
<td>001</td>
</tr>
<tr>
<td>003</td>
<td>이순신</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>004</td>
<td>이민정</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>006</td>
<td>안성기</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
<tr>
<td>007</td>
<td>이수근</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
<tr>
<td>008</td>
<td>김병만</td>
<td>2014-01-01</td>
<td>005</td>
</tr>
</tbody>
</table>
<h6 id="2️⃣-start-with-매니저사원번호-is-null">2️⃣ <strong>START WITH 매니저사원번호 IS NULL</strong> </h6>
<blockquote>
<p>루트 노드 선택: 매니저가 없는 사원 → <strong>001</strong>, <strong>005</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>사원번호</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호</th>
</tr>
</thead>
<tbody>
<tr>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<h6 id="3️⃣-connect-by-prior-사원번호--매니저사원번호-and-입사일자-between-2013-01-01-and-2013-12-31">3️⃣ <strong>CONNECT BY PRIOR 사원번호 = 매니저사원번호 AND 입사일자 BETWEEN '2013-01-01' AND '2013-12-31'</strong> </h6>
<blockquote>
<p>계층 연결 조건:</p>
</blockquote>
<ul>
<li>부모의 사원번호 = 자식의 매니저사원번호</li>
<li>자식의 입사일자가 2013년 내에 있어야 함</li>
</ul>
<h6 id="연결-흐름">연결 흐름: </h6>
<ul>
<li>루트: <strong>001</strong> → 자식 후보: <strong>003</strong>, <strong>004</strong> (입사일자 조건 만족)</li>
<li><strong>002</strong>는 입사일자가 2012년 → 제외</li>
<li>루트: <strong>005</strong> → 자식 후보 없음 (자식들 입사일자 2014년 → 조건 불만족)</li>
</ul>
<h6 id="-연결-구조">🔗 연결 구조 </h6>
<table>
<thead>
<tr>
<th>계층</th>
<th>사원번호</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호</th>
<th>부모</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
<td>—</td>
</tr>
<tr>
<td>2</td>
<td>003</td>
<td>이순신</td>
<td>2013-01-01</td>
<td>001</td>
<td>001</td>
</tr>
<tr>
<td>2</td>
<td>004</td>
<td>이민정</td>
<td>2013-01-01</td>
<td>001</td>
<td>001</td>
</tr>
<tr>
<td>1</td>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
<td>—</td>
</tr>
</tbody>
</table>
<p>➡ <strong>002</strong>, <strong>006</strong>, <strong>007</strong>, <strong>008</strong>는 제외됨</p>
<h6 id="4️⃣-order-siblings-by-사원번호">4️⃣ <strong>ORDER SIBLINGS BY 사원번호</strong> </h6>
<blockquote>
<p>형제 노드끼리 사원번호 기준 오름차순 정렬</p>
</blockquote>
<ul>
<li>루트 레벨: <strong>001</strong>, <strong>005</strong> → 오름차순: <strong>001</strong>, <strong>005</strong></li>
<li>자식 레벨 (부모: 001): <strong>003</strong>, <strong>004</strong> → 오름차순: <strong>003</strong>, <strong>004</strong></li>
</ul>
<h6 id="-최종-출력-순서">✅ 최종 출력 순서 </h6>
<table>
<thead>
<tr>
<th>출력 순서</th>
<th>사원번호</th>
<th>사원명</th>
<th>입사일자</th>
<th>매니저사원번호</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>001</td>
<td>홍길동</td>
<td>2012-01-01</td>
<td>NULL</td>
</tr>
<tr>
<td>2</td>
<td>003</td>
<td>이순신</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>3</td>
<td>004</td>
<td>이민정</td>
<td>2013-01-01</td>
<td>001</td>
</tr>
<tr>
<td>4</td>
<td>005</td>
<td>이병헌</td>
<td>2013-01-01</td>
<td>NULL</td>
</tr>
</tbody>
</table>
<h6 id="-핵심-요약-2">📊 핵심 요약 </h6>
<table>
<thead>
<tr>
<th>처리 단계</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>START WITH</strong></td>
<td>루트 노드 선택 (<strong>001</strong>, <strong>005</strong>)</td>
</tr>
<tr>
<td><strong>CONNECT BY</strong></td>
<td>부모-자식 연결 + 입사일자 조건</td>
</tr>
<tr>
<td><strong>ORDER SIBLINGS BY</strong></td>
<td>형제끼리 사원번호 오름차순 정렬</td>
</tr>
<tr>
<td><strong>SELECT</strong></td>
<td>최종 출력: 4명 (<strong>001</strong>, <strong>003</strong>, <strong>004</strong>, <strong>005</strong>)</td>
</tr>
</tbody>
</table>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 090<span class="token punctuation">]</span>  
다음 중 계층형 질의문에 대한 설명으로 가장 부적절한 것은?

① SQL Server에서의 계층형 질의문은 CTE<span class="token punctuation">(</span>Common Table Expression<span class="token punctuation">)</span>를 재귀 호출함으로써 계층 구조를 전개한다.
② SQL Server에서의 계층형 질의문은 앵커 멤버를 실행하여 기본 결과 집합을 만들고 이후 재귀 멤버를 지속적으로 실행한다.
③ 오라클의 계층형 질의문에서 WHERE 절은 모든 전개를 진행한 이후 필터 조건으로서 조건을 만족하는 데이터만을 추출하는데 활용된다.
④ 오라클의 계층형 질의문에서 PRIOR 키워드는 CONNECT BY 절에만 사용할 수 있으며 <span class="token string">'PRIOR 자식 = 부모'</span> 형태로 사용하면 순방향 전개로 수행 된다.
</code></pre><p><strong>정답:</strong> ④</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
'PRIOR 자식 = 부모'는 순방향이에요! 부모 → 자식으로 내려가는 구조예요.</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>PRIOR 자식 = 부모 → 순방향</li>
<li>PRIOR 부모 = 자식 → 역방향</li>
<li>Oracle에서는 CONNECT BY에서 PRIOR 사용</li>
<li>WHERE는 전개 후 필터링</li>
</ul>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>SQL Server 방식</td>
<td>✅</td>
</tr>
<tr>
<td>②</td>
<td>CTE 구조 설명</td>
<td>✅</td>
</tr>
<tr>
<td>③</td>
<td>Oracle WHERE 설명</td>
<td>✅</td>
</tr>
<tr>
<td>④</td>
<td>방향 설명 오류</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
PRIOR 자식 = 부모 → 순방향<br>
PRIOR 부모 = 자식 → 역방향</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 88: 계층형 질의</li>
<li>🃏 카드 43: 윈도우 함수 예시</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 091<span class="token punctuation">]</span> 
아래 <span class="token punctuation">[</span>부서<span class="token punctuation">]</span>와 <span class="token punctuation">[</span>매출<span class="token punctuation">]</span> 테이블에 대해서 SQL 문장을 실행하여 아래 <span class="token punctuation">[</span>결과<span class="token punctuation">]</span>와 같이 데이터가 추출 되었다. 다음 중 동일한 결과를 추출하는 SQL 문장은?
</code></pre><p>[테이블 1: 부서]</p>
<table>
<thead>
<tr>
<th>부서코드(PK)</th>
<th>부서명</th>
<th>상위부서코드</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>아시아부</td>
<td>NULL</td>
</tr>
<tr>
<td>110</td>
<td>한국지사</td>
<td>100</td>
</tr>
<tr>
<td>111</td>
<td>서울지점</td>
<td>110</td>
</tr>
<tr>
<td>112</td>
<td>부산지점</td>
<td>110</td>
</tr>
<tr>
<td>120</td>
<td>일본지사</td>
<td>100</td>
</tr>
<tr>
<td>121</td>
<td>도쿄지점</td>
<td>120</td>
</tr>
<tr>
<td>122</td>
<td>오사카지점</td>
<td>120</td>
</tr>
<tr>
<td>130</td>
<td>중국지사</td>
<td>100</td>
</tr>
<tr>
<td>131</td>
<td>베이징지점</td>
<td>130</td>
</tr>
<tr>
<td>132</td>
<td>상하이지점</td>
<td>130</td>
</tr>
<tr>
<td>200</td>
<td>남유럽지부</td>
<td>NULL</td>
</tr>
<tr>
<td>210</td>
<td>스페인지사</td>
<td>200</td>
</tr>
<tr>
<td>211</td>
<td>마드리드지점</td>
<td>210</td>
</tr>
<tr>
<td>212</td>
<td>그라나다지점</td>
<td>210</td>
</tr>
<tr>
<td>220</td>
<td>포르투갈지사</td>
<td>200</td>
</tr>
<tr>
<td>221</td>
<td>리스본지점</td>
<td>220</td>
</tr>
<tr>
<td>222</td>
<td>포르투지점</td>
<td>220</td>
</tr>
</tbody>
</table>
<p>[테이블 2: 매출]</p>
<table>
<thead>
<tr>
<th>부서코드</th>
<th>매출액</th>
</tr>
</thead>
<tbody>
<tr>
<td>111</td>
<td>1000</td>
</tr>
<tr>
<td>112</td>
<td>2000</td>
</tr>
<tr>
<td>121</td>
<td>1500</td>
</tr>
<tr>
<td>122</td>
<td>1000</td>
</tr>
<tr>
<td>131</td>
<td>1500</td>
</tr>
<tr>
<td>132</td>
<td>2000</td>
</tr>
<tr>
<td>211</td>
<td>2000</td>
</tr>
<tr>
<td>212</td>
<td>1500</td>
</tr>
<tr>
<td>221</td>
<td>1000</td>
</tr>
<tr>
<td>222</td>
<td>2000</td>
</tr>
</tbody>
</table>
<p>[테이블 3: 결과]</p>
<table>
<thead>
<tr>
<th>부서코드</th>
<th>부서명</th>
<th>상위부서코드</th>
<th>매출액</th>
<th>LVL</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>아시아지부</td>
<td>NULL</td>
<td>NULL</td>
<td>2</td>
</tr>
<tr>
<td>120</td>
<td>일본지사</td>
<td>100</td>
<td>NULL</td>
<td>1</td>
</tr>
<tr>
<td>121</td>
<td>도쿄지점</td>
<td>120</td>
<td>1500</td>
<td>2</td>
</tr>
<tr>
<td>122</td>
<td>오사카지점</td>
<td>120</td>
<td>1000</td>
<td>2</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code>① <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">,</span> A<span class="token punctuation">.</span>부서명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>상위부서코드<span class="token punctuation">,</span> B<span class="token punctuation">.</span>매출액<span class="token punctuation">,</span> LVL
<span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 부서코드<span class="token punctuation">,</span> 부서명<span class="token punctuation">,</span> 상위부서코드<span class="token punctuation">,</span> <span class="token keyword keyword-LEVEL">LEVEL</span> <span class="token keyword keyword-AS">AS</span> LVL 
        <span class="token keyword keyword-FROM">FROM</span> 부서
        <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'120'</span>
        <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR 상위부서코드 <span class="token operator">=</span> 부서코드
        <span class="token keyword keyword-UNION">UNION</span>
        <span class="token keyword keyword-SELECT">SELECT</span> 부서코드<span class="token punctuation">,</span> 부서명<span class="token punctuation">,</span> 상위부서코드<span class="token punctuation">,</span> <span class="token keyword keyword-LEVEL">LEVEL</span> <span class="token keyword keyword-AS">AS</span> LVL
        <span class="token keyword keyword-FROM">FROM</span> 부서
        <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'120'</span>
        <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> 상위부서코드 <span class="token operator">=</span> PRIOR 부서코드<span class="token punctuation">)</span> A <span class="token keyword keyword-LEFT">LEFT</span>  <span class="token keyword keyword-OUTER">OUTER</span> <span class="token keyword keyword-JOIN">JOIN</span> 매출 B
<span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>부서코드 <span class="token operator">=</span> B<span class="token punctuation">.</span>부서코드<span class="token punctuation">)</span>
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">;</span>

② <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">,</span> A<span class="token punctuation">.</span>부서명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>상위부서코드<span class="token punctuation">,</span> B<span class="token punctuation">.</span>매출액<span class="token punctuation">,</span> LVL
        <span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 부서코드<span class="token punctuation">,</span> 부서명<span class="token punctuation">,</span> 상위부서코드<span class="token punctuation">,</span> <span class="token keyword keyword-LEVEL">LEVEL</span> <span class="token keyword keyword-AS">AS</span> LVL
        <span class="token keyword keyword-FROM">FROM</span> 부서
        <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'100'</span>
        <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> 상위부서코드 <span class="token operator">=</span> PRIOR 부서코드<span class="token punctuation">)</span> A <span class="token keyword keyword-LEFT">LEFT</span>  <span class="token keyword keyword-OUTER">OUTER</span> <span class="token keyword keyword-JOIN">JOIN</span> 매출 B
<span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>부서코드 <span class="token operator">=</span> B<span class="token punctuation">.</span>부서코드<span class="token punctuation">)</span>
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">;</span>

③ <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">,</span> A<span class="token punctuation">.</span>부서명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>상위부서코드<span class="token punctuation">,</span> B<span class="token punctuation">.</span>매출액<span class="token punctuation">,</span> LVL
<span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 부서코드<span class="token punctuation">,</span> 부서명<span class="token punctuation">,</span> 상위부서코드<span class="token punctuation">,</span> <span class="token keyword keyword-LEVEL">LEVEL</span> <span class="token keyword keyword-AS">AS</span> LVL
    <span class="token keyword keyword-FROM">FROM</span> 부서
    <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'121'</span>
    <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR 상위부서코드 <span class="token operator">=</span> 부서코드<span class="token punctuation">)</span> A <span class="token keyword keyword-LEFT">LEFT</span> <span class="token keyword keyword-OUTER">OUTER</span> <span class="token keyword keyword-JOIN">JOIN</span> 매출 B
<span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>부서코드 <span class="token operator">=</span> B<span class="token punctuation">.</span>부서코드<span class="token punctuation">)</span>
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">;</span>

④ <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">,</span> A<span class="token punctuation">.</span>부서명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>상위부서코드<span class="token punctuation">,</span> B<span class="token punctuation">.</span>매출액<span class="token punctuation">,</span> LVL
<span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 부서코드<span class="token punctuation">,</span> 부서명<span class="token punctuation">,</span> 상위부서코드<span class="token punctuation">,</span> <span class="token keyword keyword-LEVEL">LEVEL</span> <span class="token keyword keyword-AS">AS</span> LVL
        <span class="token keyword keyword-FROM">FROM</span> 부서
        <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> 부서코드
                                <span class="token keyword keyword-FROM">FROM</span> 부서
                                <span class="token keyword keyword-WHERE">WHERE</span> 상위부서코드 <span class="token operator">IS</span> <span class="token boolean">NULL</span>
                                <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드  <span class="token operator">=</span> <span class="token string">'120'</span>
                                <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR
                                상위부서코드 <span class="token operator">=</span> 부서코드<span class="token punctuation">)</span>
        <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> 상위부서코드 <span class="token operator">=</span> PRIOR 부서코드<span class="token punctuation">)</span> A <span class="token keyword keyword-LEFT">LEFT</span>
        <span class="token keyword keyword-OUTER">OUTER</span> <span class="token keyword keyword-JOIN">JOIN</span> 매출 B
<span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>부서코드 <span class="token operator">=</span> B<span class="token punctuation">.</span>부서코드<span class="token punctuation">)</span>
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">;</span>
</code></pre><p><strong>정답:</strong> ①</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
부서코드 120부터 시작해서 자식 부서까지 전개하고, 매출 LEFT JOIN으로 붙여요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>START WITH 부서코드 = '120'</li>
<li>CONNECT BY PRIOR 상위부서코드 = 부서코드 → 순방향</li>
<li>UNION으로 상하 전개 모두 포함</li>
<li>LEFT JOIN으로 매출액 연결</li>
</ul>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">,</span> A<span class="token punctuation">.</span>부서명<span class="token punctuation">,</span> A<span class="token punctuation">.</span>상위부서코드<span class="token punctuation">,</span> B<span class="token punctuation">.</span>매출액<span class="token punctuation">,</span> LVL
<span class="token keyword keyword-FROM">FROM</span> <span class="token punctuation">(</span>
  <span class="token keyword keyword-SELECT">SELECT</span> 부서코드<span class="token punctuation">,</span> 부서명<span class="token punctuation">,</span> 상위부서코드<span class="token punctuation">,</span> <span class="token keyword keyword-LEVEL">LEVEL</span> <span class="token keyword keyword-AS">AS</span> LVL
  <span class="token keyword keyword-FROM">FROM</span> 부서
  <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'120'</span>
  <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR 상위부서코드 <span class="token operator">=</span> 부서코드
  <span class="token keyword keyword-UNION">UNION</span>
  <span class="token keyword keyword-SELECT">SELECT</span> 부서코드<span class="token punctuation">,</span> 부서명<span class="token punctuation">,</span> 상위부서코드<span class="token punctuation">,</span> <span class="token keyword keyword-LEVEL">LEVEL</span> <span class="token keyword keyword-AS">AS</span> LVL
  <span class="token keyword keyword-FROM">FROM</span> 부서
  <span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'120'</span>
  <span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> 상위부서코드 <span class="token operator">=</span> PRIOR 부서코드
<span class="token punctuation">)</span> A
<span class="token keyword keyword-LEFT">LEFT</span> <span class="token keyword keyword-OUTER">OUTER</span> <span class="token keyword keyword-JOIN">JOIN</span> 매출 B
<span class="token keyword keyword-ON">ON</span> A<span class="token punctuation">.</span>부서코드 <span class="token operator">=</span> B<span class="token punctuation">.</span>부서코드
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>부서코드<span class="token punctuation">;</span>
</code></pre><h6 id="-sql-처리-순서별-설명">🧠 SQL 처리 순서별 설명 </h6>
<h6 id="1️⃣-from-부서">1️⃣ <strong>FROM 부서</strong> </h6>
<ul>
<li>전체 부서 테이블을 대상으로 시작합니다.</li>
</ul>
<h6 id="2️⃣-첫-번째-계층-질의-상위로-전개">2️⃣ 첫 번째 계층 질의 (상위로 전개) </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'120'</span>
<span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> PRIOR 상위부서코드 <span class="token operator">=</span> 부서코드
</code></pre><ul>
<li>시작점: <strong>부서코드 = 120</strong> (일본지사)</li>
<li>전개 방향: 상위부서코드를 따라 <strong>상위로 올라감</strong></li>
<li>결과:
<ul>
<li>120 (일본지사) → 상위: 100 (아시아부)</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>부서코드</th>
<th>부서명</th>
<th>상위부서코드</th>
<th>LVL</th>
</tr>
</thead>
<tbody>
<tr>
<td>120</td>
<td>일본지사</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>100</td>
<td>아시아부</td>
<td>NULL</td>
<td>2</td>
</tr>
</tbody>
</table>
<h6 id="3️⃣-두-번째-계층-질의-하위로-전개">3️⃣ 두 번째 계층 질의 (하위로 전개) </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-START">START</span> <span class="token keyword keyword-WITH">WITH</span> 부서코드 <span class="token operator">=</span> <span class="token string">'120'</span>
<span class="token keyword keyword-CONNECT">CONNECT</span> <span class="token keyword keyword-BY">BY</span> 상위부서코드 <span class="token operator">=</span> PRIOR 부서코드
</code></pre><ul>
<li>시작점: <strong>부서코드 = 120</strong> (일본지사)</li>
<li>전개 방향: 상위부서코드를 따라 <strong>하위로 내려감</strong></li>
<li>결과:
<ul>
<li>120 → 자식: 121 (도쿄지점), 122 (오사카지점)</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>부서코드</th>
<th>부서명</th>
<th>상위부서코드</th>
<th>LVL</th>
</tr>
</thead>
<tbody>
<tr>
<td>120</td>
<td>일본지사</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>121</td>
<td>도쿄지점</td>
<td>120</td>
<td>2</td>
</tr>
<tr>
<td>122</td>
<td>오사카지점</td>
<td>120</td>
<td>2</td>
</tr>
</tbody>
</table>
<h6 id="4️⃣-union">4️⃣ <strong>UNION</strong> </h6>
<ul>
<li>위의 두 계층 질의 결과를 <strong>합칩니다</strong> (중복 제거)</li>
<li>최종 결과:</li>
</ul>
<table>
<thead>
<tr>
<th>부서코드</th>
<th>부서명</th>
<th>상위부서코드</th>
<th>LVL</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>아시아부</td>
<td>NULL</td>
<td>2</td>
</tr>
<tr>
<td>120</td>
<td>일본지사</td>
<td>100</td>
<td>1</td>
</tr>
<tr>
<td>121</td>
<td>도쿄지점</td>
<td>120</td>
<td>2</td>
</tr>
<tr>
<td>122</td>
<td>오사카지점</td>
<td>120</td>
<td>2</td>
</tr>
</tbody>
</table>
<h6 id="5️⃣-left-outer-join-매출-b-on-a부서코드--b부서코드">5️⃣ <strong>LEFT OUTER JOIN 매출 B ON A.부서코드 = B.부서코드</strong> </h6>
<ul>
<li>매출 테이블과 부서코드를 기준으로 LEFT JOIN</li>
<li>매출이 없는 부서는 NULL로 표시됨</li>
</ul>
<table>
<thead>
<tr>
<th>부서코드</th>
<th>부서명</th>
<th>상위부서코드</th>
<th>매출액</th>
<th>LVL</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>아시아부</td>
<td>NULL</td>
<td>NULL</td>
<td>2</td>
</tr>
<tr>
<td>120</td>
<td>일본지사</td>
<td>100</td>
<td>NULL</td>
<td>1</td>
</tr>
<tr>
<td>121</td>
<td>도쿄지점</td>
<td>120</td>
<td>1500</td>
<td>2</td>
</tr>
<tr>
<td>122</td>
<td>오사카지점</td>
<td>120</td>
<td>1000</td>
<td>2</td>
</tr>
</tbody>
</table>
<h6 id="6️⃣-order-by-a부서코드">6️⃣ <strong>ORDER BY A.부서코드</strong> </h6>
<ul>
<li>부서코드 기준으로 정렬</li>
</ul>
<h6 id="-최종-출력-결과">✅ 최종 출력 결과 </h6>
<table>
<thead>
<tr>
<th>부서코드</th>
<th>부서명</th>
<th>상위부서코드</th>
<th>매출액</th>
<th>LVL</th>
</tr>
</thead>
<tbody>
<tr>
<td>100</td>
<td>아시아부</td>
<td>NULL</td>
<td>NULL</td>
<td>2</td>
</tr>
<tr>
<td>120</td>
<td>일본지사</td>
<td>100</td>
<td>NULL</td>
<td>1</td>
</tr>
<tr>
<td>121</td>
<td>도쿄지점</td>
<td>120</td>
<td>1500</td>
<td>2</td>
</tr>
<tr>
<td>122</td>
<td>오사카지점</td>
<td>120</td>
<td>1000</td>
<td>2</td>
</tr>
</tbody>
</table>
<h6 id="-핵심-요약-3">📌 핵심 요약 </h6>
<table>
<thead>
<tr>
<th>처리 단계</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>START WITH 120</strong> + <strong>PRIOR 상위부서코드 = 부서코드</strong></td>
<td>상위로 전개 (100 포함)</td>
</tr>
<tr>
<td><strong>START WITH 120</strong> + <strong>상위부서코드 = PRIOR 부서코드</strong></td>
<td>하위로 전개 (121, 122 포함)</td>
</tr>
<tr>
<td><strong>UNION</strong></td>
<td>중복 제거 후 병합</td>
</tr>
<tr>
<td><strong>LEFT JOIN 매출</strong></td>
<td>매출액 연결</td>
</tr>
<tr>
<td><strong>ORDER BY 부서코드</strong></td>
<td>정렬</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
계층 전개 + LEFT JOIN = 매출 연결</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 41: JOIN 유형</li>
<li>🃏 카드 88: 계층형 질의</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 092<span class="token punctuation">]</span>
다음 중 SELF JOIN을 수행해야 할 경우로 가장 적절한 것은?

① 한 테이블 내에서 두 칼럼이 연관 관계가 있다.
② 두 테이블에 연관된 칼럼은 없으나 JOIN을 해야 한다.
③ 두 테이블에 공통 칼럼이 존재하고 두 테이블이 연관 관계가 있다.
④ 한 테이블 내에서 연관된 칼럼은 없으나 JOIN을 해야 한다.
</code></pre><p><strong>정답:</strong> ①</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
SELF JOIN은 같은 테이블 내에서 칼럼끼리 연결할 때 써요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>SELF JOIN: 같은 테이블에서 두 칼럼이 관계를 맺을 때 사용</li>
<li>예: 사원 테이블에서 사원번호와 매니저사원번호 연결</li>
</ul>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>SELF JOIN 조건 만족</td>
<td>✅</td>
</tr>
<tr>
<td>②</td>
<td>테이블이 다름</td>
<td>❌</td>
</tr>
<tr>
<td>③</td>
<td>일반 JOIN 조건</td>
<td>❌</td>
</tr>
<tr>
<td>④</td>
<td>관계 없음</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
SELF JOIN = 같은 테이블 내 연결</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 41: JOIN 유형</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 093<span class="token punctuation">]</span> 
아래와 같이 일자별매출 테이블이 존재할 때 아래 결과처럼 일자별 누적 매출액을 SQL로 구하려고 한다. WINDOW FUNCTION을 사용하지 않고 일자별 누적매출액을 구하는 SQL로 옳은 것은?
</code></pre><p>[테이블 1: 일자별매출]</p>
<table>
<thead>
<tr>
<th>일자</th>
<th>매출액</th>
</tr>
</thead>
<tbody>
<tr>
<td>2015.11.01</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.02</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.03</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.04</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.05</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.06</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.07</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.08</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.09</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.10</td>
<td>1000</td>
</tr>
</tbody>
</table>
<p>[테이블 2: 일자별 누적매출액]</p>
<table>
<thead>
<tr>
<th>일자</th>
<th>누적매출액</th>
</tr>
</thead>
<tbody>
<tr>
<td>2015.11.01</td>
<td>1000</td>
</tr>
<tr>
<td>2015.11.02</td>
<td>2000</td>
</tr>
<tr>
<td>2015.11.03</td>
<td>3000</td>
</tr>
<tr>
<td>2015.11.04</td>
<td>4000</td>
</tr>
<tr>
<td>2015.11.05</td>
<td>5000</td>
</tr>
<tr>
<td>2015.11.06</td>
<td>6000</td>
</tr>
<tr>
<td>2015.11.07</td>
<td>7000</td>
</tr>
<tr>
<td>2015.11.08</td>
<td>8000</td>
</tr>
<tr>
<td>2015.11.09</td>
<td>9000</td>
</tr>
<tr>
<td>2015.11.10</td>
<td>10000</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code>① <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>일자<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span>매출액<span class="token punctuation">)</span> <span class="token keyword keyword-AS">AS</span> 누적매출액
<span class="token keyword keyword-FROM">FROM</span> 일자별매출 A
<span class="token keyword keyword-GROUP">GROUP</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자<span class="token punctuation">;</span>

② <span class="token keyword keyword-SELECT">SELECT</span> B<span class="token punctuation">.</span>일자<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span>매출액<span class="token punctuation">)</span> <span class="token keyword keyword-AS">AS</span> 누적매출액
<span class="token keyword keyword-FROM">FROM</span> 일자별매출 A <span class="token keyword keyword-JOIN">JOIN</span> 일자별매출 B <span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>일자 <span class="token operator">&gt;=</span> B<span class="token punctuation">.</span>일자<span class="token punctuation">)</span>
<span class="token keyword keyword-GROUP">GROUP</span> <span class="token keyword keyword-BY">BY</span> B<span class="token punctuation">,</span> 일자
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> B<span class="token punctuation">.</span>일자<span class="token punctuation">;</span>

③ <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>일자<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span>매출액<span class="token punctuation">)</span> <span class="token keyword keyword-AS">AS</span> 누적매출액
<span class="token keyword keyword-FROM">FROM</span> 일자별매출 A <span class="token keyword keyword-JOIN">JOIN</span> 일자별매출 B <span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>일자 <span class="token operator">&gt;=</span> B<span class="token punctuation">.</span>일자<span class="token punctuation">)</span>
<span class="token keyword keyword-GROUP">GROUP</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자:

④ <span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>일자
<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span>매출액<span class="token punctuation">)</span>
    <span class="token keyword keyword-FROM">FROM</span> 일자별매출 B <span class="token keyword keyword-WHERE">WHERE</span> B<span class="token punctuation">.</span>일자 <span class="token operator">&gt;=</span> A<span class="token punctuation">.</span>일자<span class="token punctuation">)</span> <span class="token keyword keyword-AS">AS</span> 누적매출액
<span class="token keyword keyword-FROM">FROM</span> 일자별매출 A
<span class="token keyword keyword-GROUP">GROUP</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자:
</code></pre><p><strong>정답:</strong> ③</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
JOIN으로 이전 일자까지 매출을 누적해서 합산해요!</p>
<p>📚 <strong>전문 해설:</strong></p>
<ul>
<li>A.일자 기준으로 B.일자가 작거나 같은 행을 JOIN</li>
<li>SUM으로 누적</li>
<li>GROUP BY A.일자로 일자별 집계</li>
</ul>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> A<span class="token punctuation">.</span>일자<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span>매출액<span class="token punctuation">)</span> <span class="token keyword keyword-AS">AS</span> 누적매출액
<span class="token keyword keyword-FROM">FROM</span> 일자별매출 A
<span class="token keyword keyword-JOIN">JOIN</span> 일자별매출 B <span class="token keyword keyword-ON">ON</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>일자 <span class="token operator">&gt;=</span> B<span class="token punctuation">.</span>일자<span class="token punctuation">)</span>
<span class="token keyword keyword-GROUP">GROUP</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자
<span class="token keyword keyword-ORDER">ORDER</span> <span class="token keyword keyword-BY">BY</span> A<span class="token punctuation">.</span>일자<span class="token punctuation">;</span>
</code></pre><h6 id="-sql-처리-순서-설명-4">🧠 SQL 처리 순서 설명 </h6>
<h6 id="1️⃣-from-일자별매출-a-join-일자별매출-b-on-a일자--b일자">1️⃣ <strong>FROM 일자별매출 A JOIN 일자별매출 B ON (A.일자 &gt;= B.일자)</strong> </h6>
<ul>
<li>두 테이블을 자기 자신과 조인합니다.</li>
<li>조인 조건: A.일자 ≥ B.일자</li>
<li>즉, A의 일자보다 <strong>같거나 이전인 B의 행들</strong>을 모두 붙입니다.</li>
<li>이로써 A.일자 기준으로 <strong>이전까지의 매출액을 누적할 수 있는 구조</strong>가 만들어집니다.</li>
</ul>
<h4 id="예시-a일자--20151103">예시: A.일자 = '2015.11.03' </h4>
<ul>
<li>B에서 붙는 행: '2015.11.01', '2015.11.02', '2015.11.03'</li>
<li>매출액 합계: 1000 + 1000 + 1000 = 3000</li>
</ul>
<h6 id="2️⃣-select-a일자-sumb매출액-as-누적매출액">2️⃣ <strong>SELECT A.일자, SUM(B.매출액) AS 누적매출액</strong> </h6>
<ul>
<li>A.일자를 기준으로 누적합을 계산합니다.</li>
<li>B에서 붙은 모든 매출액을 합산하여 누적매출액으로 출력합니다.</li>
</ul>
<h6 id="3️⃣-group-by-a일자">3️⃣ <strong>GROUP BY A.일자</strong> </h6>
<ul>
<li>A.일자별로 그룹화하여 누적매출액을 집계합니다.</li>
<li>각 일자마다 하나의 결과 행이 생성됩니다.</li>
</ul>
<h6 id="4️⃣-order-by-a일자">4️⃣ <strong>ORDER BY A.일자</strong> </h6>
<ul>
<li>결과를 일자 기준으로 오름차순 정렬합니다.</li>
<li>누적매출액이 점점 증가하는 형태로 출력됩니다.</li>
</ul>
<h6 id="-핵심-요약-4">📌 핵심 요약 </h6>
<table>
<thead>
<tr>
<th>처리 단계</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>JOIN</strong></td>
<td>A.일자 기준으로 B.일자 ≤ A.일자인 행들 연결</td>
</tr>
<tr>
<td><strong>SUM(B.매출액)</strong></td>
<td>누적합 계산</td>
</tr>
<tr>
<td><strong>GROUP BY A.일자</strong></td>
<td>일자별 집계</td>
</tr>
<tr>
<td><strong>ORDER BY A.일자</strong></td>
<td>누적 순서대로 정렬</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>보기 번호</th>
<th>설명</th>
<th>적절성</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>누적 안 됨</td>
<td>❌</td>
</tr>
<tr>
<td>②</td>
<td>GROUP BY 오류</td>
<td>❌</td>
</tr>
<tr>
<td>③</td>
<td>누적 로직 정확</td>
<td>✅</td>
</tr>
<tr>
<td>④</td>
<td>GROUP BY 불필요 → 오류</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p>🧠 <strong>기억법:</strong><br>
JOIN + 조건 + SUM = 누적 계산</p>
<p>🃏 관련 암기카드</p>
<ul>
<li>🃏 카드 24: GROUP BY = 묶기</li>
<li>🃏 카드 29: 윈도우 함수 = 행별 분석</li>
</ul>
<hr>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token punctuation">[</span>문제 094<span class="token punctuation">]</span> 
다음 중 아래의 SQL 수행 결과로 가장 적절한 것은?
</code></pre><pre data-role="codeBlock" data-info="SQL" class="language-sql SQL"><code><span class="token keyword keyword-SELECT">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword keyword-DISTINCT">DISTINCT</span> A<span class="token operator">||</span>B<span class="token punctuation">)</span>
<span class="token keyword keyword-FROM">FROM</span> EMP
<span class="token keyword keyword-WHERE">WHERE</span> D <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> D <span class="token keyword keyword-FROM">FROM</span> DEPT <span class="token keyword keyword-WHERE">WHERE</span> E <span class="token operator">=</span> <span class="token string">'i'</span><span class="token punctuation">)</span>:
</code></pre><p>[테이블 1: EMP 테이블]</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>a</td>
<td>1</td>
<td>x</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>1</td>
<td>x</td>
</tr>
<tr>
<td>3</td>
<td>b</td>
<td>2</td>
<td>y</td>
</tr>
</tbody>
</table>
<p>[ 테이블 2: DEPT 테이블]</p>
<table>
<thead>
<tr>
<th>D</th>
<th>E</th>
<th>F</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>i</td>
<td>5</td>
</tr>
<tr>
<td>y</td>
<td>m</td>
<td>6</td>
</tr>
</tbody>
</table>
<p>① 0<br>
② 1<br>
③ 2<br>
④ 3</p>
<p>🧸 <strong>쉬운 해설:</strong><br>
WHERE 조건으로 D = 'x'인 EMP 행만 필터링돼요.<br>
그중 A||B 조합이 "1a", "2a" → 서로 다르니까 DISTINCT 2개!</p>
<p>📚 <strong>전문 해설:</strong><br>
1️⃣ 서브쿼리 실행</p>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> D <span class="token keyword keyword-FROM">FROM</span> DEPT <span class="token keyword keyword-WHERE">WHERE</span> E <span class="token operator">=</span> <span class="token string">'i'</span> → 결과: <span class="token string">'x'</span>
</code></pre><p>2️⃣ 메인 쿼리 필터링</p>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-WHERE">WHERE</span> D <span class="token operator">=</span> <span class="token string">'x'</span> → EMP 테이블에서 <span class="token number">2</span>행 선택됨:  
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
</code></pre><p>3️⃣ A||B 계산</p>
<ul>
<li>첫 행: '1a'</li>
<li>두 번째 행: '2a'<br>
→ 서로 다른 문자열</li>
</ul>
<p>4️⃣ COUNT(DISTINCT A||B)<br>
→ 결과: 2</p>
<br>
<h6 id="-sql-처리-순서-설명-5">🧠 SQL 처리 순서 설명 </h6>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-SELECT">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword keyword-DISTINCT">DISTINCT</span> A<span class="token operator">||</span>B<span class="token punctuation">)</span>
<span class="token keyword keyword-FROM">FROM</span> EMP
<span class="token keyword keyword-WHERE">WHERE</span> D <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword keyword-SELECT">SELECT</span> D <span class="token keyword keyword-FROM">FROM</span> DEPT <span class="token keyword keyword-WHERE">WHERE</span> E <span class="token operator">=</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h6 id="1️⃣-select-d-from-dept-where-e--i">1️⃣ <strong>SELECT D FROM DEPT WHERE E = 'i'</strong> </h6>
<ul>
<li>먼저 서브쿼리가 실행됩니다.</li>
<li>DEPT 테이블에서 **E = 'i'**인 행을 찾습니다.</li>
<li>결과: <strong>D = 'x'</strong></li>
</ul>
<table>
<thead>
<tr>
<th>D</th>
<th>E</th>
<th>F</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>i</td>
<td>5</td>
</tr>
</tbody>
</table>
<p>➡ 서브쿼리 결과는 <strong>'x'</strong></p>
<h6 id="2️⃣-from-emp-where-d--x">2️⃣ <strong>FROM EMP WHERE D = 'x'</strong> </h6>
<ul>
<li>EMP 테이블에서 **D = 'x'**인 행만 필터링합니다.</li>
</ul>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>a</td>
<td>1</td>
<td>x</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>1</td>
<td>x</td>
</tr>
</tbody>
</table>
<p>➡ 선택된 행은 2개</p>
<h6 id="3️⃣-a--b-문자열-연결">3️⃣ <strong>A || B</strong> 문자열 연결 </h6>
<ul>
<li>각 행의 A와 B를 문자열로 연결합니다.</li>
</ul>
<p>| A | B | A||B |<br>
|---|---|------|<br>
| 1 | a | '1a' |<br>
| 2 | a | '2a' |</p>
<p>➡ 연결된 문자열: <strong>'1a'</strong>, <strong>'2a'</strong></p>
<h6 id="4️⃣-countdistinct-ab">4️⃣ <strong>COUNT(DISTINCT A||B)</strong> </h6>
<ul>
<li>중복을 제거한 후 개수를 셉니다.</li>
<li><strong>'1a'</strong>, <strong>'2a'</strong> 는 서로 다르므로 DISTINCT 2개</li>
</ul>
<p>➡ 결과: <strong>2</strong></p>
<h6 id="-최종-결과-1">✅ 최종 결과 </h6>
<table>
<thead>
<tr>
<th>결과 컬럼</th>
<th>값</th>
</tr>
</thead>
<tbody>
<tr>
<td>COUNT(DISTINCT A</td>
<td></td>
</tr>
</tbody>
</table>
<h6 id="-핵심-요약-5">📌 핵심 요약 </h6>
<table>
<thead>
<tr>
<th>처리 단계</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SELECT D FROM DEPT WHERE E = 'i'</strong></td>
<td>서브쿼리로 D값 추출 → <strong>'x'</strong></td>
</tr>
<tr>
<td><strong>WHERE D = 'x'</strong></td>
<td>EMP 테이블에서 조건 필터링</td>
</tr>
<tr>
<td>**A</td>
<td></td>
</tr>
<tr>
<td><strong>DISTINCT</strong></td>
<td>중복 제거 후 개수 세기</td>
</tr>
<tr>
<td><strong>COUNT</strong></td>
<td>결과: 2개</td>
</tr>
</tbody>
</table>
<p>✅ 정답: <strong>③ 2</strong></p>
<hr>
<p>🧠 <strong>기억법:</strong></p>
<ul>
<li><code>A||B</code>는 문자열 연결</li>
<li><code>DISTINCT</code>는 중복 제거</li>
<li><code>WHERE</code>는 서브쿼리 결과로 필터링</li>
</ul>
<hr>
<p>🃏 <strong>관련 암기카드:</strong></p>
<ul>
<li>🃏 카드 22: WHERE = 필터링</li>
<li>🃏 카드 33: COUNT(*) = 전체 행</li>
<li>🃏 카드 26: 서브쿼리 = 쿼리 속 쿼리</li>
</ul>

      </div>
      
      
    
    
    <script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.


var MERMAID_CONFIG = ({"startOnLoad":false});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "default"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>
    
    
    
  
    </body></html>